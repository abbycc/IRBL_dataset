root meta tabl stai transit state make system usabl design regionserv di assign complet root meta tabl assign design regionserv di assign complet cluster unavailbl root meta tabl access recov transit state 4 step replic issu easiest replic imagin occur real system pre condit 1 cluster 3 node cache01 cache02 search01 2 start system start hbase 3 cache02 meta search01 root cache01 regionserv master case 1 1 kill cache01 2 kill cache02 3 search01 root meta 4 start regionserv cache01 cache02 5 tail master log grep assign region root assign region meta window easi 6 kill search01 7 wait server root assign tail 8 quickli kill server 9 notic root server assign stuck regionsintransit termin occur servermanag removeserverinfo regionserv send back master report shut case 2 repeat case1 step 7 8 kill server meta region assign cluster unavailbl meta region stai regionsintransit termin occur servermanag removeserverinfo regionserv send back master report shut case 3 repeat case1 step 7 8 kill server kill 9 kill opportun regionserv send back master report termin master realiz znode expir code path processservershutdown case 4 repeat case3 step 7 8 kill server kill 9 kill opportun regionserv send back master report termin master realiz znode expir code path processservershutdown solut check servermanag removeserverinfo processservershutdown closemetaregion server termin assign root meta tabl make make tabl readi assign