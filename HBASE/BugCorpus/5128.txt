uber hbck onlin autom repair tabl integr region consist problem 0 90 5 0 92 0rc2 version hbck detect region consist tabl integr invari violat amp apo fix amp apo automat repair region consist case deploy problem updat version handl case includ orphan regiondir case complet deprec offlinemetarepair tool subsum open meta hole relat issu amp apo approach comment top version file hbasefsck hbck tool check repair region consist tabl integr region consist check verifi meta region deploy region server state data hdf regioninfo file tabl integr check verifi row kei resolv region tabl individu degener backward region hole region overlap region gener repair strategi work step 1 repair tabl integr hdf merg fabric region 2 repair region consist meta assign tabl integr repair tabl region directori scan regioninfo file tabl amp apo integr verifi orphan region region regioninfo file hole region fabric backward region sidelin empti degener endkei startkei region overlap region region creat data merg region tabl integr repair deal sole hdf offlin hbase region server master run phase complet reconstruct meta tabl offlin fashion region consist requir condit 1 valid regioninfo file present hdf region dir 2 valid row regioninfo data meta 3 region deploi regionserv assign region consist requir hbck contact hbase master region server connect call successfulli region consist inform transient riski repair