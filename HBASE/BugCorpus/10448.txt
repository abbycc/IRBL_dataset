zkutil creat watch method don apo set watch case zkutil method test found watch set set base method method comment createnodeifnotexistsandwatch createephemeralnodeandwatch createnodeifnotexistsandwatch public static boolean createnodeifnotexistsandwatch zookeeperwatch zkw string znode byte data throw keeperexcept zkw getrecoverablezookeep creat znode data createacl zkw znode createmod persist catch keeperexcept nodeexistsexcept nee zkw getrecoverablezookeep exist znode zkw catch interruptedexcept zkw interruptedexcept return fals return fals catch interruptedexcept zkw interruptedexcept return fals return true watch set exist call node exist similarli createephemeralnodeandwatch public static boolean createephemeralnodeandwatch zookeeperwatch zkw string znode byte data throw keeperexcept zkw getrecoverablezookeep creat znode data createacl zkw znode createmod ephemer catch keeperexcept nodeexistsexcept nee watchandcheckexist zkw znode exist doesn amp apo return createephemeralnodeandwatch zkw znode data return fals catch interruptedexcept log info interrupt thread currentthread interrupt return true