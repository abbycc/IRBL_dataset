doubl assign dataloss servercrashprocedur run master failov rewrit explicit problem itbll master kill 1 5 minut join run cluster server master region assign cluster procedurestor servercrashprocedur unfinish runnabl state separ server scp middl assign step master crash server crash assign scp step comment assign idempot ssh requeu ssh ioe assign mimic prone doubl assign assign fail midwai todo test issu 1 2 servercrashprocedur ad hbase 13616 post hbase 1 1 servershutdownhandl crash process move pv2 framework ssh accident avoid issu process big blob start kill mid crash post crash ssh scan hbase meta find server server scp scan meta step save region find procedurestor step assign case crash post meta scan assign assign bulk assign succeed 809622 2015 06 09 20 05 28 576 info procedureexecutorthread 9 master generalbulkassign fail assign 3 region server c2021 halxg cloudera 16020 1433905510696 reassign region made locat straggler successfulli assign region reassign side master restart replai scp assign step put scan meta assign step scp redo assign run pv2 thing notic scp check failov step step servercrashprocedur run reload step master fulli onlin yield process server master servic getassignmentmanag isfailovercleanupdon throwprocedureyieldexcept wait master failov complet assign master problem fix 8 hour log time master crash back queue servercrashprocedur c2022 empti dir clean 39 2015 06 09 22 15 33 074 warn procedureexecutorthread 0 master splitlogmanag return success split delet log file path hdf c2020 halxg cloudera 8020 hbase wal c2022 halxg cloudera 16020 1433902151857 split fix