hbase crash network card ipv6 address amp apo ve met problem startup hbase setup hbase hdf server amp apo network card ipv4 address ipv6 address startup hbase default configur file found region server amp apo regist master found lot 127 0 0 1 log suppos interfac default work add lt properti gt lt gt df datanod dn interfac lt gt lt gt eth0 lt gt lt descript gt network interfac data node report ip address lt descript gt lt properti gt hbase master crash ipv6 address log dig sourc code found hbase fail deal ipv6 address detail class org apach hadoop hbase hregionserv method getthisip invok method class belong hadoop core packag class org apach hadoop net dn method getdefaultip string strinterfac method invok method class getip string strinterfac method getip return ip address matter ipv4 ipv6 fix modifi method org apach hadoop net dn getip string strinterfac return ipv4 address work hadoop upgrad modifi order avoid problem modifi method class org apach hadoop net dn modifi code method return ipv6 address return ip interfac textual form param strinterfac network interfac queri eth0 return string vector ip interfac throw unknownhostexcept unknownhostexcept encount queri default interfac public static string getip string strinterfac throw unknownhostexcept networkinterfac netif networkinterfac getbynam strinterfac netif null return string inetaddress getlocalhost gethostaddress vector lt string gt ip vector lt string gt enumer netif getinetaddress hasmoreel string addr inetaddress nextel gethostaddress addr length lt 15 ipv4 address ip add addr ip add inetaddress nextel gethostaddress return ip toarrai string catch socketexcept unknown macro return string inetaddress getlocalhost gethostaddress